@{
    ViewBag.Title = "作業說明清單";
}

@section navLink {
    <li><a href='/'><i class='fa fa-circle-o active'></i>首頁說明</a></li>
}

<div class="row">
    <div class="col-md-12">
        <div class="box box-primary collapsed-box">
            <div class="box-header with-border">
                <h3 class="box-title">第一階段作業說明</h3>
                <div class="box-tools pull-right">
                    <button class="btn btn-box-tool margin-l-10" data-widget="collapse">
                        <i class="fa fa-plus"></i>
                    </button>
                </div>
            </div>
            <div class="box-body">
                <div class="col-md-12">
                    <h1> 作業說明：</h1>
                    <ul>
                        <li>資料庫下載: https://drive.google.com/open?id=0B9TSNtgzYzPTSGR5TEc4TjcwZmM 。</li>
                        <li>請使用 "客戶資料" 這個資料庫做開發 (如附件檔案)。</li>
                        <li>請實作出「客戶資料管理」、「客戶聯絡人管理」與「客戶銀行帳戶管理」等簡易 CRUD 功能 (盡量做各種功能出來)。</li>
                        <li>在列表頁要實作「搜尋」功能。</li>
                        <li>實作一個清單頁面，顯示欄位有「客戶名稱、聯絡人數量、銀行帳戶數量」共三個欄位，此功能要在資料庫中建立一個檢視表，並且匯入 EDMX。</li>
                        <li>主選單要有連結可以直接連到三個主要功能的列表頁。</li>
                        <li>對於 Create 與 Edit 表單要套用欄位驗證 (必填、Email格式、欄位長度限制等驗證)。</li>
                        <li>刪除資料功能不能真的刪除資料庫中的資料，必須修改資料庫，加上一個「是否已刪除」欄位，資料庫中的該欄位為 bit 類型，0 代表未刪除，1 代表已刪除，且列表頁不得顯示已刪除的資料。</li>
                        <li>實作「客戶聯絡人」時，同一個客戶下的聯絡人，其 Email 不能重複。</li>
                        <li>實作一個「自訂輸入驗證屬性」可驗證「手機」的電話格式必須為 "\d{4}-\d{6}" 的格式 ( e.g. 0911-111111 )。</li>
                    </ul>

                    <h1>追加功能：</h1>
                    <ul>
                        <li>實作表單驗證機制 (FormsAuthentication)。</li>
                        <li>要有登入、登出功能。</li>
                        <li>參考文章: http://blog.miniasp.com/post/2008/02/20/Explain-Forms-Authentication-in-ASPNET-20.aspx 。</li>
                    </ul>
                    <h1> 注意事項：</h1>
                    <ol>
                        <li>請在你的 GitHub 建立一個獨立專案，並將本次作業上傳到 GitHub，並提交 GitHub 專案網址回來。</li>
                        <li>請到【課程進度實作回報】表單回報作業 。 第一周作業回報 (請上傳作業到 GitHub 並回報連結)。</li>
                        <li>請勿將資料庫加入專案檔 (*.csproj)，以免版控發生問題 (因為資料庫檔會被VS鎖定)。</li>
                        <li>做不出來沒關係，請在回報進度時寫上你哪幾個功能無法完成，或實作時發生的疑問！</li>
                    </ol>

                    <h1> Lawrence說明：</h1>
                    <div style="background-color:yellow">
                        <h3>作業因<span style="color:red">資料庫未簽入需手動產生</span>，請依照App_Data內的資料庫注意事項進行建立。</h3>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="col-md-12">
        <div class="box box-primary">
            <div class="box-header with-border">
                <h3 class="box-title">第二階段作業說明</h3>
                <div class="box-tools pull-right">
                    <button class="btn btn-box-tool margin-l-10" data-widget="collapse">
                        <i class="fa fa-minus"></i>
                    </button>
                </div>
            </div>
            <div class="box-body">
                <h1> 作業說明：</h1>
                <ul>
                    <li>延續上次作業加以延伸開發。</li>
                    <li>改用 Repository Pattern 管理所有新刪查改(CRUD)等功能。</li>
                    <li>修改所有的「刪除」邏輯，所有資料都不能真正被刪除，資料庫中也要新增「是否已刪除」欄位 (欄位要設定 bit 型態)。</li>
                    <li>修改「客戶資料」表格，新增「客戶分類」欄位，可設定特定選項的分類。</li>
                    <li>在「客戶資料列表」頁面新增篩選功能，可以用「客戶分類」欄位進行資料篩選 (下拉選單)。</li>
                    <li>資料篩選的邏輯要寫在 Repository 的類別裡面。</li>
                    <li>在「客戶聯絡人列表」頁面新增篩選功能，可以用「職稱」欄位進行資料篩選。</li>
                    <li>修改「客戶資料列表」與「客戶聯絡人列表」頁面，設定讓每個欄位都能進行排序 (可升冪、可降冪排序)。</li>
                    <li>如果可以的話，透過 JavaScript 實作一些 AJAX 操作，後端 MVC 使用 JsonResult 進行回應。</li>
                    <li>使用 ClosedXML 這個 NuGet 套件實作資料匯出功能，每個清單頁上都要有可以匯出 Excel 檔案的功能，要用到 FileResult 下載檔案。</li>
                    <li>實作在「客戶資料」的詳細資料頁面，加上「客戶聯絡人」清單，並且可以讓客戶聯絡人清單支援「批次更新」功能，可批次修改「職稱、手機、電話」這三個欄位，其他欄位不允許修改。</li>
                    <li>在特定幾個可能發生例外的頁面，特別套用 [HandleError] 屬性，針對特定例外給予不同的自訂錯誤頁面，自訂錯誤頁面要能看出發生例外的實際原因。</li>
                    <li>自訂一個動作過濾器，可以記錄每個 Action 與 ActionResult 執行的時間，資料可以輸出到 Debug 輸出視窗。</li>
                    <li>套用任意一個現成的網頁版面，可下載免費版面，或使用我在課堂上給你們的版面進行套版。</li>
                    <li>網頁版面必須要有主選單(menu)、每頁都不同的導覽路標(breadcrumb)、需用到 @@section。</li>
                    <li>請使用 PagedList.Mvc 這個 NuGet 套件實作列表頁的分頁功能。</li>
                    <li>實作客戶登入機制，要在「客戶資料」表格加上【帳號】、【密碼】欄位，密碼欄位須加密或做雜湊處裡(Hash)。</li>
                    <li>客戶登入後只有一個【修改客戶資料】功能，但只能修改【密碼、電話、傳真、地址、Email】等欄位，其他欄位不能被修改或更新。</li>
                </ul>

                <h1> 注意事項：</h1>
                <ol>
                    <li>請在你的 GitHub 建立一個獨立專案，並將本次作業上傳到 GitHub，並提交 GitHub 專案網址回來。</li>
                    <li>請到【課程進度實作回報】表單回報作業，並回報 GitHub 專案網址。 第二階段作業 (請上傳作業到 GitHub 並回報連結)。</li>
                    <li>請勿將資料庫加入版控，以免版控發生問題 (因為資料庫檔會被VS鎖定)。</li>
                    <li>做不出來沒關係，請在回報進度時寫上你哪幾個功能無法完成，或實作時發生的疑問！</li>
                </ol>
            </div>
        </div>
    </div>
</div>